PROJECT( common_lib )
cmake_minimum_required (VERSION 3.4)
FIND_PACKAGE(OpenCV REQUIRED core imgproc highgui features2d xfeatures2d ml video shape calib3d)

if (UNIX)
	find_package(Boost REQUIRED COMPONENTS filesystem)
	INCLUDE_DIRECTORIES( ${Boost_INCLUDE_DIRS} )
	#find_package(Eigen REQUIRED)
endif (UNIX)

if (WIN32)
	find_package(Boost REQUIRED)
	include_directories(${Boost_INCLUDE_DIRS})
	set (CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS OFF)
	link_directories(${Boost_LIBRARY_DIR})
	# message(${Boost_LIBRARY_DIR})
endif (WIN32)

add_compile_options(-std=c++11)
if (UNIX)
   add_compile_options(-fPIC)
endif (UNIX)

include_directories(${OpenCV_INCLUDE_DIRS})
ADD_LIBRARY(common_lib  feature_extractors.h feature_extractors.cpp)
TARGET_LINK_LIBRARIES(common_lib  ${Boost_LIBRARIES} ${OpenCV_LIBS})